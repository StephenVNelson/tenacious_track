<% provide(:title, 'All elements') %>
<%= flash[:notice] %>

<div class="container">
  <h1>Exercise Elements</h1>
  <div class="row">
    <div class="col-4 mt-2 mb-4">
      <div class="form-group">
        <%= form_with url: elements_path, method: 'get', local: true do |f| %>
                    <%= f.select(:series, Element.select(:series_name).distinct.map(&:series_name), {prompt: "No Filter"}, class: "form-control form-control-lg") %>
          <%= f.submit "Filter", class: "btn btn-secondary" %>
        <% end %>

      </div>
    </div>
  </div>
</div>




<%= will_paginate @element %>

<table class="table">
  <thead class="thead-dark">
    <th scope="col">Series</th>
    <th scope="col">Element</th>
    <th scope="col"></th>
    <th scope="col"></th>
  </thead>
  <tbody>
    <tr>
      <td><%= link_to "Add Element", new_element_path, class: "edit-link" %></td>
    </tr>
    <%= render @elements %>
  </tbody>
</table>

<%= will_paginate @element %>

<% if current_user.admin?%>
  <div class="container mt-5 pt-5">
    <%= render :layout => 'shared/card_container', :locals => {:title => 'Upload CSV data'} do %>
      <%= form_tag import_elements_path, multipart: true do %>
        <%= file_field_tag :file %>
        <%= submit_tag "Import CSV" %>
      <% end %>
    <% end %>
  </div>
<% end %>
